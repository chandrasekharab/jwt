<!DOCTYPE>
<html>

<head>
  <title>Index</title>
</head>
<body>
  <style>
    .btn {
      margin: 10px;
      padding: 5px;
    }
    div {
      margin: 10px;
      padding: 5px;
      
    }
  </style>

  <h1>You are authenticated!!!</h1>
  <h2>
    <button onclick="sayHi()" class='btn'>Click me to send Ajax, inspect network to observe JWT Token</button>
  </h2>
  <div>JWT token will be communicated as Cookie here</div>
  <div id='token'></div>
  <button onclick="showjwtPayload()" class='btn'>Show JWT payload via Ajax call</button>
  <div id='payload'></div>
  <script>
    const sayHi = () =>
      fetch('/sayhi').then(res =>
        document.querySelector('#token').innerText = res);

    const showjwtPayload = () =>
      fetch('/jwtpayload').then(res =>
        res.json().then(data =>
          document.querySelector('#payload').innerText = JSON.stringify(data)));
  </script>
</body>

</html>